@model LikeIt.Web.ViewModels.Categories.ListCategoriesViewModel
@*@using (Ajax.BeginForm("Index", "Page",
        new AjaxOptions
        {
            HttpMethod = "POST",
            InsertionMode = InsertionMode.Replace,
            UpdateTargetId = "all-pages",
            //OnFailure = "showCommentRequiredError"
        }))
{*@
@using (Html.BeginForm("Index", "Page", new { area = "" }, FormMethod.Get))
{
        @Html.EditorFor(m => m.CategoryId, new { ListItem = Model.Categories })
}
    @*}*@

<script type="text/javascript">
    $('#categories').change(function () {
        $(this).parents('form').submit();
    });
</script>

@*<script language="JavaScript">
        $('#categories').on('change', function () {
            var data = { categoryId: $('#categories').val() };
            this.form.submit(data);
            //$.post('Page/SortByCategory', data, function (responseData) {
            //});
        });
    </script>*@
